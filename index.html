<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Installatore Domotica Roma Sud | Shelly Luci Smart Prese Termostati</title>
<meta name="description" content="Installatore domotica Roma Sud. Luci smart, prese WiFi, termostati, serrande e videosorveglianza. Preventivo online gratuito.">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{margin:0;font-family:Arial;background:#f5f5f5;color:#111;}
header{background:#0a1f33;color:white;padding:20px;text-align:center;}
header h1{margin:0;font-size:26px;}
header p{margin:5px 0 0;font-size:14px;color:#ccc;}

.hero img{width:100%;max-height:300px;object-fit:cover;}

section{padding:20px;background:white;margin-bottom:10px;}
h2{text-align:center;margin-bottom:10px;}
p{text-align:center;font-size:16px;}

.btn{display:block;width:90%;max-width:420px;margin:10px auto;padding:15px;border-radius:40px;text-align:center;font-size:18px;text-decoration:none;font-weight:bold;}
.whatsapp{background:#25D366;color:white;}
.call{border:2px solid #007BFF;color:#007BFF;}
.preventivo{background:#ff9800;color:white;}

footer{background:#0a1f33;color:white;text-align:center;padding:15px;font-size:12px;}

.fixed-bar{position:fixed;bottom:0;width:100%;background:white;border-top:1px solid #ddd;padding:10px;display:flex;justify-content:space-around;z-index:999;}
.fixed-bar a{padding:12px 20px;border-radius:30px;font-size:16px;text-decoration:none;color:white;}
.fixed-whatsapp{background:#25D366;}
.fixed-call{background:#007BFF;}

form{max-width:500px;margin:auto;}
input,select{width:100%;padding:12px;margin:5px 0;border-radius:8px;border:1px solid #ccc;font-size:16px;}
button{width:100%;padding:15px;background:#ff9800;color:white;border:none;border-radius:40px;font-size:18px;font-weight:bold;}
.result{font-size:20px;text-align:center;margin-top:10px;font-weight:bold;}
</style>
</head>

<body>

<header>
<h1>Installatore Domotica Roma Sud</h1>
<p>Shelly â€¢ Luci Smart â€¢ Prese WiFi â€¢ Termostati â€¢ Serrande â€¢ Videosorveglianza</p>
</header>

<div class="hero">
<img src="hero-shelly.jpg">
</div>

<section>
<h2>Rendi la tua casa smart in poche ore</h2>
<p>Installazione professionale senza opere murarie. Controlla luci, prese e riscaldamento dal telefono.</p>

<a class="btn whatsapp" href="https://wa.me/393505223388">WhatsApp Diretto</a>
<a class="btn call" href="tel:+393505223388">Chiama il Tecnico</a>
<a class="btn preventivo" href="#preventivo">Stima Costo Installazione</a>
</section>

<section id="preventivo">
<h2>Calcola Preventivo Smart Home</h2>

<form onsubmit="calcolaPreventivo(); return false;">
<input id="nome" placeholder="Il tuo nome" required>
<input id="zona" placeholder="Zona (EUR, Ostia, Acilia...)" required>

<label>Luci Smart (0-6)</label>
<input type="number" id="luci" min="0" max="6" value="0">

<label>Prese Smart (0-6)</label>
<input type="number" id="prese" min="0" max="6" value="0">

<label>Serrande / Tapparelle Smart (0-6)</label>
<input type="number" id="serrande" min="0" max="6" value="0">

<label>Telecamere Videosorveglianza (0-6)</label>
<input type="number" id="cam" min="0" max="6" value="0">

<label>Termostato Smart</label>
<select id="termostato">
<option value="0">Nessuno</option>
<option value="1">1 Termostato</option>
<option value="2">2-3 Termostati</option>
</select>

<button type="submit">Calcola Preventivo</button>
</form>

<div class="result" id="risultato"></div>
<button onclick="scaricaPDF()" style="display:none" id="pdfBtn">Scarica Preventivo PDF</button>

</section>

<footer>
DomusTech Roma â€¢ Installatore Domotica â€¢ 2026
</footer>

<div class="fixed-bar">
<a class="fixed-whatsapp" href="https://wa.me/393505223388">WhatsApp</a>
<a class="fixed-call" href="tel:+393505223388">Chiama</a>
</div>

<script>
let totale=0;
let dettagli=[];
let numeroPreventivo="";

function calcolaPreventivo(){
let luci=parseInt(luciEl.value);
let prese=parseInt(preseEl.value);
let serrande=parseInt(serrandeEl.value);
let cam=parseInt(camEl.value);
let term=parseInt(termostatoEl.value);

totale=0;
dettagli=[];
numeroPreventivo="DT-"+Date.now();

function addItem(qty,name,price){
 if(qty>0){
  let sub=qty*price;
  totale+=sub;
  dettagli.push({name:name,qty:qty,price:price,sub:sub});
 }
}

addItem(luci,"Luci Smart",50);
addItem(prese,"Prese Smart",50);
addItem(serrande,"Serrande Smart",50);
addItem(cam,"Telecamere",50);

if(term==1){totale+=120; dettagli.push({name:"Termostato Smart",qty:1,price:120,sub:120});}
if(term==2){totale+=240; dettagli.push({name:"Termostati Smart",qty:2,price:120,sub:240});}

risultato.innerHTML="ðŸ’° Stima installazione: <b>"+totale+" â‚¬</b> (indicativo)";
pdfBtn.style.display="block";
}

function scaricaPDF(){
const { jsPDF } = window.jspdf;
const doc = new jsPDF();

let nome=nomeEl.value;
let zona=zonaEl.value;

let oggi=new Date();
let scadenza=new Date();
scadenza.setDate(oggi.getDate()+30);

function formatDate(d){return d.toLocaleDateString("it-IT");}

// HEADER
doc.setFontSize(18);
doc.setFont("Helvetica","bold");
doc.text("DOMUSTECH ROMA",20,20);

doc.setFontSize(10);
doc.setFont("Helvetica","normal");
doc.text("Installatore Domotica - Roma Sud",20,28);
doc.text("Tel: 3505223388  Email: domustech.roma@gmail.com",20,34);

doc.line(20,40,190,40);

// DATI PREVENTIVO
doc.setFontSize(12);
doc.text("Preventivo NÂ°: "+numeroPreventivo,20,50);
doc.text("Data: "+formatDate(oggi),20,58);
doc.text("Scadenza: "+formatDate(scadenza),20,66);

doc.text("Cliente: "+nome,20,80);
doc.text("Zona intervento: "+zona,20,88);

// TABELLA
let y=105;
doc.setFont("Helvetica","bold");
doc.text("Descrizione",20,y);
doc.text("Q.tÃ ",120,y);
doc.text("Prezzo",140,y);
doc.text("Totale",170,y);
doc.line(20,y+2,190,y+2);

doc.setFont("Helvetica","normal");
y+=10;
dettagli.forEach(r=>{
 doc.text(r.name,20,y);
 doc.text(String(r.qty),120,y);
 doc.text(r.price+"â‚¬",140,y);
 doc.text(r.sub+"â‚¬",170,y);
 y+=8;
});

// TOTALE
doc.setFont("Helvetica","bold");
doc.setFontSize(14);
doc.text("Totale stimato: "+totale+" â‚¬",105,y+15,null,null,"center");

// NOTE LEGALI
doc.setFontSize(9);
doc.setFont("Helvetica","normal");
doc.text("Nota: Preventivo indicativo basato su configurazione online.",20,y+30);
doc.text("Il prezzo finale sarÃ  confermato dopo sopralluogo tecnico gratuito.",20,y+36);
doc.text("IVA e materiali non inclusi se non specificato.",20,y+42);

doc.save("Preventivo_DomusTech_"+nome+".pdf");
}
</script>

</body>
</html>
